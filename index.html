<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mew Runner: Sigma Subway Skaters</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    canvas { background: linear-gradient(#222, #111); display: block; margin: 0 auto; margin-top: 20px; }
    body { text-align: center; color: white; font-family: sans-serif; background: #000; }
  </style>
</head>
<body>
  <h1>🐱 Mew Runner: Sigma Subway Skaters</h1>
  <p>Arrow ⬆ to jump | Collect 🌀 | Avoid 🚽</p>
  <canvas id="game" width="800" height="400"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    let mew = { x: 100, y: 300, w: 40, h: 40, vy: 0, jumping: false };
    let gravity = 1, score = 0, highScore = localStorage.getItem("high") || 0;
    let auraBalls = [], toilets = [];
    let speed = 5;

    function drawRect(obj, color, emoji = "") {
      ctx.fillStyle = color;
      ctx.fillRect(obj.x, obj.y, obj.w, obj.h);
      if (emoji) ctx.fillText(emoji, obj.x + 5, obj.y + 30);
    }

    function spawnAura() {
      auraBalls.push({ x: 800, y: 300, w: 30, h: 30 });
    }

    function spawnToilet() {
      toilets.push({ x: 800, y: 300, w: 40, h: 40 });
    }

    function update() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "white";
      ctx.font = "20px sans-serif";
      ctx.fillText(`Score: ${score}`, 10, 30);
      ctx.fillText(`High Score: ${highScore}`, 650, 30);

      mew.vy += gravity;
      mew.y += mew.vy;
      if (mew.y > 300) { mew.y = 300; mew.jumping = false; }

      drawRect(mew, "#0f0", "🐱");

      // Draw and update aura balls
      for (let i = auraBalls.length - 1; i >= 0; i--) {
        let a = auraBalls[i];
        a.x -= speed;
        drawRect(a, "#0ff", "🌀");

        if (a.x + a.w < 0) auraBalls.splice(i, 1);
        else if (a.x < mew.x + mew.w && a.x + a.w > mew.x && a.y < mew.y + mew.h && a.y + a.h > mew.y) {
          score++;
          if (score > highScore) {
            highScore = score;
            localStorage.setItem("high", score);
          }
          auraBalls.splice(i, 1);
        }
      }

      // Draw and update toilets
      for (let i = toilets.length - 1; i >= 0; i--) {
        let t = toilets[i];
        t.x -= speed;
        drawRect(t, "#f00", "🚽");

        if (t.x + t.w < 0) toilets.splice(i, 1);
        else if (t.x < mew.x + mew.w && t.x + t.w > mew.x && t.y < mew.y + mew.h && t.y + t.h > mew.y) {
          alert("💥 SKIBIDI CAUGHT YOU!\nFinal Score: " + score);
          score = 0;
          auraBalls = [];
          toilets = [];
          speed = 5;
        }
      }
    }

    setInterval(() => {
      update();
    }, 30);

    setInterval(() => spawnAura(), 2000);
    setInterval(() => spawnToilet(), 3500);
    setInterval(() => { if (speed < 15) speed += 0.1 }, 1000);

    document.addEventListener("keydown", e => {
      if (e.key === "ArrowUp" && !mew.jumping) {
        mew.vy = -15;
        mew.jumping = true;
      }
    });
  </script>
</body>
</html>
